<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    i18n:domain="plone">

<head>
  <title></title>
</head>

<body>

<!-- Keyword Widgets -->

<metal:view_macro define-macro="view"
    tal:define="kssClassesView context/@@kss_field_decorator_view;
                getKssClasses nocall:kssClassesView/getKssClassesInlineEditable;">
  <div metal:define-macro="keyword-field-view"
       tal:define="kss_class python:getKssClasses(fieldName,
                   templateId='widgets/keyword', macro='keyword-field-view');
                   uid context/UID|nothing"
       tal:attributes="class kss_class;
                       id string:parent-fieldname-$fieldName-$uid">
    <ul metal:define-slot="inside">
      <li tal:repeat="item accessor"
          tal:content="item"/>
    </ul>
  </div>
</metal:view_macro>

<metal:define define-macro="edit">
  <metal:use use-macro="field_macro | context/widgets/field/macros/edit">

    <tal:define metal:fill-slot="widget_body"
        define="contentKeywords accessor;
                allowedKeywords python: context.collectKeywords(fieldName, field.accessor, widget.vocab_source);
                site_props context/portal_properties/site_properties|nothing;
                format widget/format | string:select;
                allowRolesToAddKeywords site_props/allowRolesToAddKeywords|nothing;">

      <textarea row="1" data-pattern="autocomplete"
        data-autocomplete-plugins="arrow autocomplete focus tags"
        tal:attributes="id string:$fieldName-tags">
      </textarea>

    </tal:define>
  </metal:use>
</metal:define>

<div metal:define-macro="search">
  <div metal:use-macro="context/widgets/keyword/macros/edit">
  </div>
</div>

</body>
</html>

